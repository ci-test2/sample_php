language: php

php: 
  - 5.4
  - 5.5
  - 5.6
  - "7.0"
  
build_image: drydock/u12phppls:tip
  
before_script: 
  - mkdir -p shippable/codecoverage
  - mkdir -p shippable/testresults

script:
   - phpunit  --log-junit shippable/testresults/junit.xml --coverage-xml shippable/codecoverage tests/calculator_test.php

after_success:
  - echo "success"
  
after_failure:
  - echo :failure"
  
notifications:
  email: 
    test_ci2@yahoo.in
  irc:
    channels: "chat.freenode.net#test-irc"
    
archive: true

integrations:
  notifications:
    - integrationName: email
      type: email
      recipients: 
        - shiphitchcock1@gmail.com
        - varsha@shippable.com
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always
      
    - integrationName: ship-slack
      type: slack
      recipients:
        - "#hitchcock1-public"
        - pvt-channel
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always
      
    - integrationName: irc
      type: irc
      recipients:
        - "chat.freenode.net#test-cock1"
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always
      
    - integrationName: ship-hipchat
      type: hipchat
      recipients:
        - '#hitchcock1'
        - '#hitchcock1pvt'
        - '@shiphitchcock1'
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always
